
<!DOCTYPE html>
<html lang="en">
<head>
  <title>Bootstrap Example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
</head>
<body>

<div class="container">
 <form>
<input type="text" id="amount" placeholder="Amount"><br>
<input type="text" id="rate" placeholder="Rate"><br>
<input type="text" id="month" placeholder="Month"><br>
<input type="submit" id="submit"
</form>
  
</div>

<div id="emi1">
</div>
<a href="<%='http://localhost:3000/calculate' %>">Back</a>
</body>

<script>

$(document).ready(function(){
    $("#submit").click(function(){

	var amount=$('#amount').val();
	var rate=$('#rate').val();
	var month=$('#month').val();

	
	 var total=parseInt(amount) + parseInt(rate);


	rate=(rate/12/100);
	


	
	var emi=amount*rate*Math.pow((1+rate),month)/((Math.pow((1+rate),month))-1);	
	

 emi=Math.round(emi);
  amount=Math.round(amount);
   
	$('#emi').text("EMI "+Math.round(emi));


	var i;
	var int_per_mon=0;
	var total_insterest=0;
	
	var str="<table style='width: 50%;text-align: center;'><tr><th>Monthly Interest</th><th> Monthly Principal</th><th>EMI</th><th>Total Interest</th></tr>";
	for(var i=0;i <month ; i++)
	{
		
		int_per_mon=Math.round(rate*amount);
		
		total_insterest+=Math.round(int_per_mon);
		
		amount = amount - (emi - int_per_mon);
		
		str+="<td>"+int_per_mon+"</td><td>"+(emi-int_per_mon) +"</td><td>"+emi+"</td><td>"+total_insterest+"</td></tr><tr>"
		

		
	}
	str+="</tr></table>"
	$('#emi1').html(str);

	
	
	
	




    });
}); 

</script>
</html>